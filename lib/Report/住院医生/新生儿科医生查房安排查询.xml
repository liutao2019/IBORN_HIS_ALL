<ReportQueryInfo Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.Setting.ReportQueryInfo,SOC.HISFC.OutpatientFee.Components"><List><List Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.Setting.QueryControl,SOC.HISFC.OutpatientFee.Components"><Index>0</Index><Name>txtname</Name><Text>姓名</Text><IsAddText>true</IsAddText><ControlType Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.ControlType.TextBoxType,SOC.HISFC.OutpatientFee.Components"><IsPadLeft>false</IsPadLeft><Length>10</Length><PadLeftName>0</PadLeftName><DefaultDataSource></DefaultDataSource><IsEnterFilter>true</IsEnterFilter><IsLike>false</IsLike><LikeStr>%{0}%</LikeStr><Size Type="System.Drawing.Size,System.Drawing, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"><Width>120</Width><Height>20</Height></Size><Location Type="System.Drawing.Point,System.Drawing, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"><X>0</X><Y>2</Y></Location><QueryDataSource>Dictionary</QueryDataSource><DataSourceTypeName></DataSourceTypeName><Enabled>true</Enabled></ControlType></List><List Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.Setting.QueryControl,SOC.HISFC.OutpatientFee.Components"><Index>1</Index><Name>dept</Name><Text>中心护士站</Text><IsAddText>true</IsAddText><ControlType Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.ControlType.ComboBoxType,SOC.HISFC.OutpatientFee.Components"><IsAddAll>true</IsAddAll><AllValue Type="FS.FrameWork.Models.NeuObject,FrameWork"><ID>ALL</ID><Name>全部</Name><Memo></Memo></AllValue><DataSource /><DefaultDataSource /><IsLike>false</IsLike><LikeStr>%{0}%</LikeStr><Size Type="System.Drawing.Size,System.Drawing, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"><Width>120</Width><Height>20</Height></Size><Location Type="System.Drawing.Point,System.Drawing, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"><X>300</X><Y>2</Y></Location><QueryDataSource>Sql</QueryDataSource><DataSourceTypeName>select d.dept_code,d.dept_name from com_department d where d.dept_code in ('3011','3012')</DataSourceTypeName><Enabled>true</Enabled></ControlType></List></List><QueryDataSource><QueryDataSource Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.Setting.QueryDataSource,SOC.HISFC.OutpatientFee.Components"><Name>Datasource</Name><Sql> select a.name 姓名,substr(a.bed_no,5) 房间,ed.rq 入住天数,to_char（a.in_date,'yyyy-mm-dd') 入住日期,
 case to_char(a.in_date,'d') when '1' THEN '星期天' when '2' THEN '星期一' when '3' THEN '星期二' when '4' THEN '星期三' when '5' THEN '星期四' when '6' THEN '星期五'when '7' THEN '星期六' END 入住星期,
 case  when a.nurse_cell_code = '3012'   then '查房：星期一、星期三、星期五' 
       when a.nurse_cell_code = '3011'   then '查房：星期二、星期四、星期六'  end  预定查房日期,
 ---------当天查房信息 
 case  when a.nurse_cell_code = '3012' and  to_char(sysdate,'d') in( '2','4','6') then '今日查房' 
       when a.nurse_cell_code = '3011' and  to_char(sysdate,'d') in( '3','5','7') then '今日查房'    end 今日查房,
 ---------出院宣教
 case ed.rq when 8  then '出院宣教：'||to_char（a2.in_date + 7 ,'yyyy-mm-dd') 
            when 29 then '出院宣教：'||to_char（a2.in_date + 28 ,'yyyy-mm-dd') 
            when 43 then '出院宣教：'||to_char（a2.in_date + 42 ,'yyyy-mm-dd') end 出院宣教日期

 from  fin_ipr_inmaininfo  a
 join  fin_ipr_inmaininfo  a2 on ('000'||substr(a.card_no,4))  = a2.patient_no
 left join  (select d.card_no,d.item_name，(case when d.item_name like '7%'  then 8 when d.item_name like '2%' then 29 when d.item_name like '4%' then 43 end) rq ,max(d.oper_date) oper_date 
 from exp_packagedetail d where d.cancel_flag = '0' and d.rtn_qty &gt; 0 and d.item_name like '%天月子%' group by d.card_no,d.item_name ) ed  on a2.card_no = ed.card_no 
 where 1 = 1
 and   (a.nurse_cell_code = '&amp;dept' or  '&amp;dept' = 'ALL')
 and     (a.name like '%&amp;txtname%'  or nvl('&amp;txtname','1') = '1')
 and   a.in_state = 'I'
 and   a.patient_no like 'B%'
 order by 房间,入住日期</Sql><AddMapRow>false</AddMapRow><AddMapColumn>true</AddMapColumn><AddMapData>false</AddMapData><AddMapSourceData>false</AddMapSourceData><IsCross>false</IsCross><SqlType>MainReportUsing</SqlType><CrossRows></CrossRows><CrossColumns></CrossColumns><CrossValues></CrossValues><CrossCombinColumns></CrossCombinColumns><SumColumns></SumColumns><CrossGroupColumns></CrossGroupColumns><IsSumRow>true</IsSumRow><SumRows></SumRows><RowGroup /></QueryDataSource></QueryDataSource><QueryFilePath>Report\住院医生\新生儿科医生查房安排查询.xml</QueryFilePath><PrintInfo Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.Setting.PrintInfo,SOC.HISFC.OutpatientFee.Components"><PaperSize Type="System.Drawing.Printing.PaperSize,System.Drawing, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"><Height>1169</Height><PaperName>A4</PaperName><RawKind>0</RawKind><Width>850</Width></PaperSize><SelectPage>false</SelectPage></PrintInfo></ReportQueryInfo>