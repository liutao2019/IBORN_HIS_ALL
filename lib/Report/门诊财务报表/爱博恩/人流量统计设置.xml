<ReportQueryInfo Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.Setting.ReportQueryInfo,SOC.HISFC.OutpatientFee.Components"><List><List Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.Setting.QueryControl,SOC.HISFC.OutpatientFee.Components"><Index>0</Index><Name>dtBeginTime</Name><Text>开始时间：</Text><IsAddText>true</IsAddText><ControlType Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.ControlType.DateTimeType,SOC.HISFC.OutpatientFee.Components"><AddDays>-1</AddDays><AddMonths>0</AddMonths><CustomFormat>yyyy-MM-dd</CustomFormat><DefaultDataSource></DefaultDataSource><Format>Custom</Format><IsLike>false</IsLike><LikeStr>%{0}%</LikeStr><Size Type="System.Drawing.Size,System.Drawing, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"><Width>120</Width><Height>20</Height></Size><Location Type="System.Drawing.Point,System.Drawing, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"><X>10</X><Y>2</Y></Location><QueryDataSource>Dictionary</QueryDataSource><DataSourceTypeName></DataSourceTypeName><Enabled>true</Enabled></ControlType></List><List Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.Setting.QueryControl,SOC.HISFC.OutpatientFee.Components"><Index>1</Index><Name>dtEndTime</Name><Text>结束时间：</Text><IsAddText>true</IsAddText><ControlType Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.ControlType.DateTimeType,SOC.HISFC.OutpatientFee.Components"><AddDays>0</AddDays><AddMonths>0</AddMonths><CustomFormat>yyyy-MM-dd</CustomFormat><DefaultDataSource></DefaultDataSource><Format>Custom</Format><IsLike>false</IsLike><LikeStr>%{0}%</LikeStr><Size Type="System.Drawing.Size,System.Drawing, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"><Width>120</Width><Height>20</Height></Size><Location Type="System.Drawing.Point,System.Drawing, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"><X>220</X><Y>2</Y></Location><QueryDataSource>Dictionary</QueryDataSource><DataSourceTypeName></DataSourceTypeName><Enabled>true</Enabled></ControlType></List><List Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.Setting.QueryControl,SOC.HISFC.OutpatientFee.Components"><Index>2</Index><Name>cmbHospital</Name><Text>院    区：</Text><IsAddText>true</IsAddText><ControlType Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.ControlType.ComboBoxType,SOC.HISFC.OutpatientFee.Components"><IsAddAll>true</IsAddAll><AllValue Type="FS.FrameWork.Models.NeuObject,FrameWork"><ID>ALL</ID><Name>全部</Name><Memo></Memo></AllValue><DataSource /><DefaultDataSource /><IsLike>false</IsLike><LikeStr>%{0}%</LikeStr><Size Type="System.Drawing.Size,System.Drawing, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"><Width>120</Width><Height>20</Height></Size><Location Type="System.Drawing.Point,System.Drawing, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"><X>430</X><Y>2</Y></Location><QueryDataSource>Sql</QueryDataSource><DataSourceTypeName> select code,name,' ', spell_code,wb_code,mark from com_dictionary  where type = 'HOSPITALLIST'</DataSourceTypeName><Enabled>true</Enabled></ControlType></List></List><QueryDataSource><QueryDataSource Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.Setting.QueryDataSource,SOC.HISFC.OutpatientFee.Components"><Name>dtmzcz</Name><Sql>   --充值人数统计
 select count(0) peonum from (
    select distinct  to_char(fa.balance_date,'yyyy-mm-dd'),fa.card_no from  fin_opb_accountprepay fa  left join com_employee t2 
    on fa.oper_code = t2.empl_code
  left join com_department t3 on t2.dept_code = t3.dept_code
    where (fa.prepay_cost&gt;0 or fa.donate_cost&gt;0)
    and fa.balance_date between TO_DATE('&amp;dtBeginTime', 'yyyy-MM-dd')  AND TO_DATE('&amp;dtEndTime', 'yyyy-MM-dd')+1
     and (t3.hospital_id = '&amp;cmbHospital' or '&amp;cmbHospital' = 'ALL')
    ) m</Sql><AddMapRow>false</AddMapRow><AddMapColumn>false</AddMapColumn><AddMapData>false</AddMapData><AddMapSourceData>false</AddMapSourceData><IsCross>false</IsCross><SqlType>MainReportUsing</SqlType><CrossRows></CrossRows><CrossColumns></CrossColumns><CrossValues></CrossValues><CrossCombinColumns></CrossCombinColumns><SumColumns></SumColumns><CrossGroupColumns></CrossGroupColumns><IsSumRow>true</IsSumRow><SumRows></SumRows><RowGroup /></QueryDataSource><QueryDataSource Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.Setting.QueryDataSource,SOC.HISFC.OutpatientFee.Components"><Name>dttcyj</Name><Sql>    --押金人数统计
    select count(0) peonum from (
    select distinct  to_char(xd.balance_date,'yyyy-mm-dd'),xd.card_no from exp_packagedeposit xd
      left join com_employee t2 
    on xd.oper_code = t2.empl_code
  left join com_department t3 on t2.dept_code = t3.dept_code
     where
    xd.cancel_flag='0'
    and xd.balance_date between TO_DATE('&amp;dtBeginTime', 'yyyy-MM-dd')  AND TO_DATE('&amp;dtEndTime', 'yyyy-MM-dd')+1
    and (t3.hospital_id = '&amp;cmbHospital' or '&amp;cmbHospital' = 'ALL')
    )</Sql><AddMapRow>false</AddMapRow><AddMapColumn>false</AddMapColumn><AddMapData>false</AddMapData><AddMapSourceData>false</AddMapSourceData><IsCross>false</IsCross><SqlType>MainReportUsing</SqlType><CrossRows></CrossRows><CrossColumns></CrossColumns><CrossValues></CrossValues><CrossCombinColumns></CrossCombinColumns><SumColumns></SumColumns><CrossGroupColumns></CrossGroupColumns><IsSumRow>true</IsSumRow><SumRows></SumRows><RowGroup /></QueryDataSource><QueryDataSource Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.Setting.QueryDataSource,SOC.HISFC.OutpatientFee.Components"><Name>dttcsr</Name><Sql> --套餐人数统计
    select name,count(0) peonum from 
    (
    select distinct xp.card_no,to_char(xp.oper_date,'yyyy-mm-dd'),cd.name from exp_package xp left join bd_com_package bp on xp.package_id=bp.package_id
    left join com_dictionary cd on cd.type='PACKAGETYPE'  and cd.code=bp.package_kind
    left join com_employee t2 
    on xp.oper_code = t2.empl_code
  left join com_department t3 on t2.dept_code = t3.dept_code
     where xp.cancel_flag='0'
      and xp.oper_date between TO_DATE('&amp;dtBeginTime', 'yyyy-MM-dd')  AND TO_DATE('&amp;dtEndTime', 'yyyy-MM-dd')+1
      and (t3.hospital_id = '&amp;cmbHospital' or '&amp;cmbHospital' = 'ALL')
      ) group by name</Sql><AddMapRow>false</AddMapRow><AddMapColumn>false</AddMapColumn><AddMapData>false</AddMapData><AddMapSourceData>false</AddMapSourceData><IsCross>false</IsCross><SqlType>MainReportUsing</SqlType><CrossRows></CrossRows><CrossColumns></CrossColumns><CrossValues></CrossValues><CrossCombinColumns></CrossCombinColumns><SumColumns></SumColumns><CrossGroupColumns></CrossGroupColumns><IsSumRow>true</IsSumRow><SumRows></SumRows><RowGroup /></QueryDataSource><QueryDataSource Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.Setting.QueryDataSource,SOC.HISFC.OutpatientFee.Components"><Name>dtzytcwsr</Name><Sql>  --住院套餐外结算  
 select dept_name,count(0) from (
 select distinct fbh.inpatient_no,cp.dept_name from fin_ipb_balancehead fbh inner join fin_ipr_inmaininfo fm
  on fm.inpatient_no=fbh.inpatient_no inner join com_department cp on cp.dept_code=fm.dept_code
  where fbh.package_flag='0' and fbh.balance_date between TO_DATE('&amp;dtBeginTime', 'yyyy-MM-dd') 
   AND TO_DATE('&amp;dtEndTime', 'yyyy-MM-dd')+1
   and (cp.hospital_id = '&amp;cmbHospital' or '&amp;cmbHospital' = 'ALL')
  group by fbh.inpatient_no,cp.dept_name
  having sum(fbh.tot_cost)&gt;0  ) group by dept_name</Sql><AddMapRow>false</AddMapRow><AddMapColumn>false</AddMapColumn><AddMapData>false</AddMapData><AddMapSourceData>false</AddMapSourceData><IsCross>false</IsCross><SqlType>MainReportUsing</SqlType><CrossRows></CrossRows><CrossColumns></CrossColumns><CrossValues></CrossValues><CrossCombinColumns></CrossCombinColumns><SumColumns></SumColumns><CrossGroupColumns></CrossGroupColumns><IsSumRow>true</IsSumRow><SumRows></SumRows><RowGroup /></QueryDataSource><QueryDataSource Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.Setting.QueryDataSource,SOC.HISFC.OutpatientFee.Components"><Name>dtghsr</Name><Sql>          --挂号人数统计
    select dept_name ,count(0)  peonum from (
    select distinct  to_char(fr.balance_date,'yyyy-mm-dd'),fr.card_no,fr.dept_code,cp.dept_name,fr.doct_code from fin_opr_register  fr inner join com_department cp
    on fr.dept_code=cp.dept_code
     where fr.valid_flag='1'
     and fr.balance_date between TO_DATE('&amp;dtBeginTime', 'yyyy-MM-dd')  AND TO_DATE('&amp;dtEndTime', 'yyyy-MM-dd')+1
     and (cp.hospital_id = '&amp;cmbHospital' or '&amp;cmbHospital' = 'ALL')
     ) mm group by dept_name</Sql><AddMapRow>false</AddMapRow><AddMapColumn>false</AddMapColumn><AddMapData>false</AddMapData><AddMapSourceData>false</AddMapSourceData><IsCross>false</IsCross><SqlType>MainReportUsing</SqlType><CrossRows></CrossRows><CrossColumns></CrossColumns><CrossValues></CrossValues><CrossCombinColumns></CrossCombinColumns><SumColumns></SumColumns><CrossGroupColumns></CrossGroupColumns><IsSumRow>true</IsSumRow><SumRows></SumRows><RowGroup /></QueryDataSource></QueryDataSource><QueryFilePath>Report\门诊财务报表\爱博恩\现金流统计设置.xml</QueryFilePath><PrintInfo Type="FS.SOC.HISFC.OutpatientFee.Components.Report.Common.Setting.PrintInfo,SOC.HISFC.OutpatientFee.Components"><PaperSize Type="System.Drawing.Printing.PaperSize,System.Drawing, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"><Height>1169</Height><PaperName>A4</PaperName><RawKind>0</RawKind><Width>850</Width></PaperSize><SelectPage>false</SelectPage></PrintInfo></ReportQueryInfo>